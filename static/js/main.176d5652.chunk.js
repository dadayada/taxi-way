(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{86:function(e,t,n){e.exports=n(97)},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),l=n.n(c),o=n(32),i=n(149),u=n(128),d=n(148),m=n(159),E=n(130),f=n(156),s=n(131),b=n(151),v=n(98),p=n(127),O=n(55),j=n(25),g=n(153),y=n(154),h=n(158),N=n(124),x=n(6),C=n(43),T="taxi-data";var w,I,S=Object(x.e)(),M=Object(x.e)(),k=Object(x.e)(),A=Object(x.f)(JSON.parse(window.localStorage.getItem(T)||"[]")||[]).on(M,function(e,t){return[].concat(Object(C.a)(e),[t])}).on(S,function(e,t){return e.filter(function(e){return e.added!==t})}).on(k,function(e,t){return e.map(function(e){return e.added===t.added?t:e})});A.watch(function(e){window.localStorage.setItem(T,JSON.stringify(e))}),function(e){e.INCOME="INCOME",e.EXPENSE="EXPENSE"}(w||(w={})),function(e){e.TODAY="TODAY",e.WEEK="WEEK",e.MONTH="MONTH"}(I||(I={}));var B=function(e){return e.filter(function(e){return e.type===w.EXPENSE}).reduce(function(e,t){return t.value+e},0)},W=function(e){return e.filter(function(e){return e.type===w.INCOME}).reduce(function(e,t){return t.value+e},0)},D=Object(x.e)(),P=Object(x.f)(I.TODAY).on(D,function(e,t){return t}),X=Object(x.b)(A,P,function(e,t){var n={};n[I.TODAY]=g.a,n[I.WEEK]=y.a,n[I.MONTH]=h.a;var a=n[t],r=e.filter(function(e){return a(Object(N.a)(e.added))});return{debit:B(r),credit:W(r)}}),H=Object(i.a)({incomeText:{color:p.a[700],fontWeight:"bold"},spendingText:{color:O.a[700],fontWeight:"bold"}});function Y(){var e=H(),t=Object(j.a)(X),n=Object(j.a)(P);return r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(d.a,{display:"flex",justifyContent:"center"},r.a.createElement(m.a,{component:"fieldset"},r.a.createElement(E.a,{component:"legend"},"Results for period:"),r.a.createElement(f.a,{"aria-label":"position",name:"position",row:!0,value:n,onChange:function(e){return D(e.target.value)}},r.a.createElement(s.a,{value:I.TODAY,control:r.a.createElement(b.a,null),label:"Today"}),r.a.createElement(s.a,{value:I.WEEK,control:r.a.createElement(b.a,null),label:"Week"}),r.a.createElement(s.a,{value:I.MONTH,control:r.a.createElement(b.a,null),label:"Month"}))))),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(d.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(v.a,{align:"center",variant:"caption"},"Credit")),r.a.createElement(v.a,{className:e.incomeText,align:"center",variant:"h4"},t.credit)),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(d.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(v.a,{align:"center",variant:"caption"},"Debit")),r.a.createElement(v.a,{className:e.spendingText,align:"center",variant:"h4"},t.debit)),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(d.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(v.a,{align:"center",variant:"caption"},"Balance")),r.a.createElement(v.a,{className:t.credit-t.debit>0?e.incomeText:e.spendingText,align:"center",variant:"h4"},t.credit-t.debit)))}var J=n(147),K=n(134),F=n(155),R=n(16),V=Object(R.b)(),L=Object(x.e)();V.listen(L);Object(x.f)(V.location).on(L,function(e,t){return t});var q=Object(x.e)(),z=Object(x.e)(),G=Object(x.e)(),Q=Object(x.e)(),U=Object(x.l)({source:A,clock:Q,fn:function(e,t){return e.find(function(e){return e.added===t})}}).filterMap(function(e){return Boolean(e)?e:void 0}),Z=Object(x.k)(U,null),$=Object(x.f)(w.INCOME).on(q,function(e,t){return t}).on(U,function(e,t){return t.type}),_=Object(x.f)("").on(z,function(e,t){return t}).on(U,function(e,t){var n=t.value;return String(n)}),ee=Object(x.l)(Object(x.g)({type:$,value:_,recordToEdit:Z}),G,function(e){var t=e.recordToEdit,n=e.type,a=e.value;return t?{type:n,value:Number(a),added:t.added}:{type:n,value:Number(a),added:Object(F.a)(new Date)}}),te=Object(x.m)(ee,{recordValid:function(e){return Boolean(e.value)},valueEmpty:function(e){return!Boolean(e.value)}});!function(e,t){var n=t.data,a=t.target,r=function(e,t){var n={};for(var a in t)n[a]=e.map(t[a]);return n}(n,t.filter);for(var c in a)Object(x.h)({source:e,filter:r[c],target:a[c]})}(te.recordValid,{target:{recordAdded:M,recordChanged:k},data:Z,filter:{recordAdded:function(e){return!Boolean(e)},recordChanged:function(e){return Boolean(e)}}});var ne=Object(x.f)("").on(te.valueEmpty,function(){return"Record cannot be empty"}).reset(Object(x.j)([z,L]));M.watch(function(){return V.push("/")}),k.watch(function(){return V.push("/")}),$.reset(L),_.reset(L);var ae=Object(i.a)(function(e){return{root:{width:"100%"},button:{margin:"".concat(2*e.spacing(),"px 0px")},error:{color:"red"}}});function re(e){var t=e.recordIsCreating,n=Object(j.a)($),c=Object(j.a)(_),l=Object(j.a)(ne),i=ae(),u=Object(o.f)();return Object(a.useEffect)(function(){u.added&&Q(Number(u.added))},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:i.root},r.a.createElement(v.a,{align:"center",variant:"h4"},t?"New transaction":"Edit transaction"),r.a.createElement(E.a,{component:"legend"},"Type"),r.a.createElement(f.a,{value:n,onChange:function(e){return q(e.target.value)}},r.a.createElement(s.a,{control:r.a.createElement(b.a,null),value:w.INCOME,label:"Income"}),r.a.createElement(s.a,{control:r.a.createElement(b.a,null),value:w.EXPENSE,label:"Expense"})),r.a.createElement(J.a,{autoFocus:!0,error:Boolean(l),label:"Value",placeholder:"Enter value",type:"number",value:c,onChange:function(e){return z(e.target.value)}}),l&&r.a.createElement(v.a,{variant:"caption",className:i.error},l),r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:G,className:i.button},t?"Add":"Save")))}var ce=n(26),le=n(135),oe=n(136),ie=n(137),ue=n(138),de=n(139),me=n(140),Ee=Object(i.a)({root:{position:"fixed",bottom:0,width:"100%"}});function fe(){var e=Ee();return r.a.createElement(le.a,{value:0,showLabels:!0,className:e.root},r.a.createElement(oe.a,{label:"Main",icon:r.a.createElement(ie.a,null),component:ce.a,to:"/"}),r.a.createElement(oe.a,{label:"New record",icon:r.a.createElement(ue.a,null),component:ce.a,to:"/add-record"}),r.a.createElement(oe.a,{label:"History",icon:r.a.createElement(de.a,null),component:ce.a,to:"/history"}),r.a.createElement(oe.a,{label:"Anaytics",icon:r.a.createElement(me.a,null),component:ce.a,to:"/history"}))}var se=n(132),be=n(143),ve=n(152),pe=n(144),Oe=n(145),je=n(141),ge=n(142),ye=Object(x.e)(),he=Object(x.e)(),Ne=Object(x.e)(),xe=A.map(function(e){return e.sort(function(e,t){return t.added-e.added})}),Ce=Object(x.f)(!1).on(ye,function(){return!0}).on(S,function(){return!1}).on(he,function(){return!1}),Te=Object(x.f)(null).on(ye,function(e,t){return t}).on(S,function(){return null}).on(he,function(){return null}),we=Te.map(Boolean);Object(x.h)({source:Object(x.l)(Te,Ne),filter:we,target:S});var Ie=Object(i.a)({incomeText:{color:p.a[700],fontWeight:"bold"},spendingText:{color:O.a[700],fontWeight:"bold"},content:{display:"flex",justifyContent:"center",alignContent:"center"}});function Se(){var e=Object(j.a)(xe),t=Object(j.a)(Ce),n=Ie();return r.a.createElement(r.a.Fragment,null,e.map(function(e){return r.a.createElement("div",{key:e.added},r.a.createElement("div",{className:n.content},r.a.createElement("div",null,r.a.createElement(v.a,{align:"center"},Object(N.a)(e.added).toLocaleDateString()),r.a.createElement(v.a,{align:"center",className:e.type===w.EXPENSE?n.spendingText:n.incomeText,variant:"subtitle2"},e.type===w.EXPENSE&&"- ",e.value)),r.a.createElement(se.a,{onClick:function(){return ye(e.added)}},r.a.createElement(je.a,null)),r.a.createElement(ce.a,{to:"/edit-record/".concat(e.added)},r.a.createElement(se.a,null,r.a.createElement(ge.a,null)))),r.a.createElement(be.a,null))}),r.a.createElement(ve.a,{open:t},r.a.createElement(pe.a,null,"Are you sure you want remove this record?"),r.a.createElement(Oe.a,null,r.a.createElement(K.a,{onClick:Ne},"Remove"),r.a.createElement(K.a,{onClick:he},"Cancel"))))}var Me=Object(i.a)(function(e){return{root:{overflow:"auto",padding:e.spacing()}}}),ke=function(){return r.a.createElement(o.b,{history:V},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/add-record"},r.a.createElement(re,{recordIsCreating:!0})),r.a.createElement(o.a,{path:"/edit-record/:added"},r.a.createElement(re,null)),r.a.createElement(o.a,{path:"/history"},r.a.createElement(Se,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(Y,null))),r.a.createElement(fe,null))};function Ae(){var e=Me();return r.a.createElement("div",{className:e.root},r.a.createElement(ke,null))}n(96);var Be=n(146),We=n(73),De=document.getElementById("root"),Pe=Object(We.a)();l.a.render(r.a.createElement(function(){return r.a.createElement(Be.a,{theme:Pe},r.a.createElement(Ae,null))},null),De)}},[[86,1,2]]]);
//# sourceMappingURL=main.176d5652.chunk.js.map
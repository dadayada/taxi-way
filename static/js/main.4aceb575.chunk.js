(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{86:function(e,t,a){e.exports=a(97)},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=a(32),i=a(149),u=a(128),d=a(148),m=a(159),E=a(130),f=a(156),s=a(131),b=a(151),v=a(98),p=a(127),O=a(55),j=a(25),g=a(153),y=a(154),h=a(158),x=a(124),N=a(6),w=a(43),C="taxi-data";var T,I,S=Object(N.e)(),M=Object(N.e)(),k=Object(N.e)(),A=Object(N.f)(JSON.parse(window.localStorage.getItem(C)||"[]")||[]).on(M,function(e,t){return[].concat(Object(w.a)(e),[t])}).on(S,function(e,t){return e.filter(function(e){return e.added!==t})}).on(k,function(e,t){return e.map(function(e){return e.added===t.added?t:e})});A.watch(function(e){window.localStorage.setItem(C,JSON.stringify(e))}),function(e){e.INCOME="INCOME",e.EXPENSE="EXPENSE"}(T||(T={})),function(e){e.TODAY="TODAY",e.WEEK="WEEK",e.MONTH="MONTH"}(I||(I={}));var B=function(e){return e.filter(function(e){return e.type===T.EXPENSE}).reduce(function(e,t){return t.value+e},0)},W=function(e){return e.filter(function(e){return e.type===T.INCOME}).reduce(function(e,t){return t.value+e},0)},D=Object(N.e)(),P=Object(N.f)(I.TODAY).on(D,function(e,t){return t}),X=Object(N.b)(A,P,function(e,t){var a={};a[I.TODAY]=g.a,a[I.WEEK]=y.a,a[I.MONTH]=h.a;var n=a[t],r=e.filter(function(e){return n(Object(x.a)(e.added))});return{debit:B(r),credit:W(r)}}),H=Object(i.a)({incomeText:{color:p.a[700],fontWeight:"bold"},spendingText:{color:O.a[700],fontWeight:"bold"}});function Y(){var e=H(),t=Object(j.a)(X),a=Object(j.a)(P);return r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(d.a,{display:"flex",justifyContent:"center"},r.a.createElement(m.a,{component:"fieldset"},r.a.createElement(E.a,{component:"legend"},"Results for period:"),r.a.createElement(f.a,{"aria-label":"position",name:"position",row:!0,value:a,onChange:function(e){return D(e.target.value)}},r.a.createElement(s.a,{value:I.TODAY,control:r.a.createElement(b.a,null),label:"Today"}),r.a.createElement(s.a,{value:I.WEEK,control:r.a.createElement(b.a,null),label:"Week"}),r.a.createElement(s.a,{value:I.MONTH,control:r.a.createElement(b.a,null),label:"Month"}))))),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(d.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(v.a,{align:"center",variant:"caption"},"Credit")),r.a.createElement(v.a,{className:e.incomeText,align:"center",variant:"h4"},t.credit)),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(d.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(v.a,{align:"center",variant:"caption"},"Debit")),r.a.createElement(v.a,{className:e.spendingText,align:"center",variant:"h4"},t.debit)),r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(d.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(v.a,{align:"center",variant:"caption"},"Balance")),r.a.createElement(v.a,{className:t.credit-t.debit>0?e.incomeText:e.spendingText,align:"center",variant:"h4"},t.credit-t.debit)))}var J=a(147),K=a(134),F=a(155),R=a(16),V=Object(R.b)({basename:"/taxi-way"}),L=Object(N.e)();V.listen(L);Object(N.f)(V.location).on(L,function(e,t){return t});var q=Object(N.e)(),z=Object(N.e)(),G=Object(N.e)(),Q=Object(N.e)(),U=Object(N.l)({source:A,clock:Q,fn:function(e,t){return e.find(function(e){return e.added===t})}}).filterMap(function(e){return Boolean(e)?e:void 0}),Z=Object(N.k)(U,null),$=Object(N.f)(T.INCOME).on(q,function(e,t){return t}).on(U,function(e,t){return t.type}),_=Object(N.f)("").on(z,function(e,t){return t}).on(U,function(e,t){var a=t.value;return String(a)}),ee=Object(N.l)(Object(N.g)({type:$,value:_,recordToEdit:Z}),G,function(e){var t=e.recordToEdit,a=e.type,n=e.value;return t?{type:a,value:Number(n),added:t.added}:{type:a,value:Number(n),added:Object(F.a)(new Date)}}),te=Object(N.m)(ee,{recordValid:function(e){return Boolean(e.value)},valueEmpty:function(e){return!Boolean(e.value)}});!function(e,t){var a=t.data,n=t.target,r=function(e,t){var a={};for(var n in t)a[n]=e.map(t[n]);return a}(a,t.filter);for(var c in n)Object(N.h)({source:e,filter:r[c],target:n[c]})}(te.recordValid,{target:{recordAdded:M,recordChanged:k},data:Z,filter:{recordAdded:function(e){return!Boolean(e)},recordChanged:function(e){return Boolean(e)}}});var ae=Object(N.f)("").on(te.valueEmpty,function(){return"Record cannot be empty"}).reset(Object(N.j)([z,L]));M.watch(function(){return V.push("/")}),k.watch(function(){return V.push("/")}),$.reset(L),_.reset(L);var ne=Object(i.a)(function(e){return{root:{width:"100%"},button:{margin:"".concat(2*e.spacing(),"px 0px")},error:{color:"red"}}});function re(e){var t=e.recordIsCreating,a=Object(j.a)($),c=Object(j.a)(_),l=Object(j.a)(ae),i=ne(),u=Object(o.f)();return Object(n.useEffect)(function(){u.added&&Q(Number(u.added))},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:i.root},r.a.createElement(v.a,{align:"center",variant:"h4"},t?"New transaction":"Edit transaction"),r.a.createElement(E.a,{component:"legend"},"Type"),r.a.createElement(f.a,{value:a,onChange:function(e){return q(e.target.value)}},r.a.createElement(s.a,{control:r.a.createElement(b.a,null),value:T.INCOME,label:"Income"}),r.a.createElement(s.a,{control:r.a.createElement(b.a,null),value:T.EXPENSE,label:"Expense"})),r.a.createElement(J.a,{autoFocus:!0,error:Boolean(l),label:"Value",placeholder:"Enter value",type:"number",value:c,onChange:function(e){return z(e.target.value)}}),l&&r.a.createElement(v.a,{variant:"caption",className:i.error},l),r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:G,className:i.button},t?"Add":"Save")))}var ce=a(26),le=a(135),oe=a(136),ie=a(137),ue=a(138),de=a(139),me=a(140),Ee=Object(i.a)({root:{position:"fixed",bottom:0,width:"100%"}});function fe(){var e=Ee();return r.a.createElement(le.a,{value:0,showLabels:!0,className:e.root},r.a.createElement(oe.a,{label:"Main",icon:r.a.createElement(ie.a,null),component:ce.a,to:"/taxi-way/"}),r.a.createElement(oe.a,{label:"New record",icon:r.a.createElement(ue.a,null),component:ce.a,to:"/taxi-way/add-record"}),r.a.createElement(oe.a,{label:"History",icon:r.a.createElement(de.a,null),component:ce.a,to:"/taxi-way/history"}),r.a.createElement(oe.a,{label:"Anaytics",icon:r.a.createElement(me.a,null),component:ce.a,to:"/taxi-way/history"}))}var se=a(132),be=a(143),ve=a(152),pe=a(144),Oe=a(145),je=a(141),ge=a(142),ye=Object(N.e)(),he=Object(N.e)(),xe=Object(N.e)(),Ne=A.map(function(e){return e.sort(function(e,t){return t.added-e.added})}),we=Object(N.f)(!1).on(ye,function(){return!0}).on(S,function(){return!1}).on(he,function(){return!1}),Ce=Object(N.f)(null).on(ye,function(e,t){return t}).on(S,function(){return null}).on(he,function(){return null}),Te=Ce.map(Boolean);Object(N.h)({source:Object(N.l)(Ce,xe),filter:Te,target:S});var Ie=Object(i.a)({incomeText:{color:p.a[700],fontWeight:"bold"},spendingText:{color:O.a[700],fontWeight:"bold"},content:{display:"flex",justifyContent:"center",alignContent:"center"}});function Se(){var e=Object(j.a)(Ne),t=Object(j.a)(we),a=Ie();return r.a.createElement(r.a.Fragment,null,e.map(function(e){return r.a.createElement("div",{key:e.added},r.a.createElement("div",{className:a.content},r.a.createElement("div",null,r.a.createElement(v.a,{align:"center"},Object(x.a)(e.added).toLocaleDateString()),r.a.createElement(v.a,{align:"center",className:e.type===T.EXPENSE?a.spendingText:a.incomeText,variant:"subtitle2"},e.type===T.EXPENSE&&"- ",e.value)),r.a.createElement(se.a,{onClick:function(){return ye(e.added)}},r.a.createElement(je.a,null)),r.a.createElement(ce.a,{to:"/edit-record/".concat(e.added)},r.a.createElement(se.a,null,r.a.createElement(ge.a,null)))),r.a.createElement(be.a,null))}),r.a.createElement(ve.a,{open:t},r.a.createElement(pe.a,null,"Are you sure you want remove this record?"),r.a.createElement(Oe.a,null,r.a.createElement(K.a,{onClick:xe},"Remove"),r.a.createElement(K.a,{onClick:he},"Cancel"))))}var Me=Object(i.a)(function(e){return{root:{overflow:"auto",padding:e.spacing()}}}),ke=function(){return r.a.createElement(o.b,{history:V},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/taxi-way/add-record"},r.a.createElement(re,{recordIsCreating:!0})),r.a.createElement(o.a,{path:"/taxi-way/edit-record/:added"},r.a.createElement(re,null)),r.a.createElement(o.a,{path:"/taxi-way/history"},r.a.createElement(Se,null)),r.a.createElement(o.a,{path:"/taxi-way/"},r.a.createElement(Y,null))),r.a.createElement(fe,null))};function Ae(){var e=Me();return r.a.createElement("div",{className:e.root},r.a.createElement(ke,null))}a(96);var Be=a(146),We=a(73),De=document.getElementById("root"),Pe=Object(We.a)();l.a.render(r.a.createElement(function(){return r.a.createElement(Be.a,{theme:Pe},r.a.createElement(Ae,null))},null),De)}},[[86,1,2]]]);
//# sourceMappingURL=main.4aceb575.chunk.js.map
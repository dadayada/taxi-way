{"version":3,"sources":["core/constants.js","persistence.js","core/records.js","pages/home.js","routing.js","pages/record/store.js","pages/record/view.js","components/bottom-navigation.js","pages/history/store.js","pages/history/view.js","app.js","index.js"],"names":["RECORD_TYPE","INCOME","EXPENSE","localStorageKey","removeRecord","createEvent","recordAdded","recordChanged","$records","createStore","JSON","parse","window","localStorage","getItem","on","s","p","concat","Object","toConsumableArray","filter","el","added","map","watch","data","setItem","stringify","$totalIncome","records","record","type","reduce","acc","value","$totalExpenses","$profit","useStyles","makeStyles","theme","incomeText","color","green","fontWeight","spendingText","red","HomePage","classes","totalIncome","useStore","totalExpenses","profit","react_default","a","createElement","Grid","container","item","xs","Box","display","justifyContent","alignItems","Typography","align","variant","className","history","createBrowserHistory","baseName","process","locationChanged","listen","$location","location","_","recordTypeChanged","recordValueChanged","saveRecordRequsted","$type","$recordValue","sample","source","combine","Number","clock","fn","store","_objectSpread","Date","toISOString","target","push","reset","root","width","button","margin","spacing","RecordScreen","props","recordIsCreating","recordType","recordValue","Fragment","FormControl","FormLabel","component","RadioGroup","onChange","e","FormControlLabel","control","Radio","label","TextField","placeholder","Button","onClick","position","bottom","BottomNavigation","showLabels","BottomNavigationAction","icon","Home","Link","to","PostAdd","History","removeBtnClicked","removeCancelled","removeConfirmed","$modalOpen","$recordIdToRemove","content","alignContent","HistoryScreen","modalOpen","key","toLocaleDateString","toLocaleTimeString","IconButton","Delete","react_router_dom","Edit","Divider","Dialog","open","DialogContent","DialogActions","overflow","padding","Routes","react_router","path","bottom_navigation_BottomNavigation","App","app_Routes","rootElement","document","getElementById","createMuiTheme","ReactDOM","render","ThemeProvider"],"mappings":"gRAAaA,EAAc,CACzBC,OAAQ,SACRC,QAAS,WCFLC,EAAkB,YCIjB,IAAMC,EAAeC,cACfC,EAAcD,cACdE,EAAgBF,cAUhBG,EAAWC,YDTfC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQX,KAAqB,ICUlEY,GAAGT,EAAa,SAACU,EAAGC,GAAJ,SAAAC,OAAAC,OAAAC,EAAA,EAAAD,CAAcH,GAAd,CAAiBC,MACjCF,GAAGX,EAAc,SAACY,EAAGC,GAAJ,OAAUD,EAAEK,OAAO,SAAAC,GAAE,OAAIA,EAAGC,QAAUN,MACvDF,GAAGR,EAAe,SAACS,EAAGC,GAAJ,OAAUD,EAAEQ,IAAI,SAAAF,GAAE,OAAKA,EAAGC,QAAUN,EAAEM,MAAQN,EAAIK,MAEvEd,EAASiB,MDnBF,SAA+BC,GACpCd,OAAOC,aAAac,QAAQxB,EAAiBO,KAAKkB,UAAUF,MCoBvD,IAAMG,EAAerB,EAASgB,IAAI,SAAAM,GAAO,OAC9CA,EACGT,OAAO,SAAAU,GAAM,OAAIA,EAAOC,OAAShC,EAAYC,SAC7CgC,OAAO,SAACC,EAAKH,GAAN,OAAiBA,EAAOI,MAAQD,GAAK,KAGpCE,EAAiB5B,EAASgB,IAAI,SAAAM,GAAO,OAChDA,EACGT,OAAO,SAAAU,GAAM,OAAIA,EAAOC,OAAShC,EAAYE,UAC7C+B,OAAO,SAACC,EAAKH,GAAN,OAAiBA,EAAOI,MAAQD,GAAK,KAGpCG,EAAU7B,EAASgB,IAAI,SAAAM,GAAO,OACzCA,EAAQG,OACN,SAACC,EAAKH,GAAN,OACEA,EAAOC,OAAShC,EAAYC,OACxBiC,EAAMH,EAAOI,MACbD,EAAMH,EAAOI,OACnB,KCjCEG,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,WAAY,CACVC,MAAOC,IAAM,KACbC,WAAY,QAEdC,aAAc,CACZH,MAAOI,IAAI,KACXF,WAAY,WAIT,SAASG,IACd,IAAMC,EAAUV,IACVW,EAAcC,YAASrB,GACvBsB,EAAgBD,YAASd,GACzBgB,EAASF,YAASb,GACxB,OACEgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,WAAS,GACbJ,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAKC,QAAQ,OAAOC,eAAe,SAASC,WAAW,UACrDV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAYC,MAAM,SAASC,QAAQ,aAAnC,WAIFb,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAYG,UAAWnB,EAAQP,WAAYwB,MAAM,SAASC,QAAQ,MAC/DjB,IAGLI,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAKC,QAAQ,OAAOC,eAAe,SAASC,WAAW,UACrDV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAYC,MAAM,SAASC,QAAQ,aAAnC,aAIFb,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEG,UAAWnB,EAAQH,aACnBoB,MAAM,SACNC,QAAQ,MAEPf,IAGLE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAKC,QAAQ,OAAOC,eAAe,SAASC,WAAW,UACrDV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAYC,MAAM,SAASC,QAAQ,aAAnC,WAIFb,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEG,UAAWf,EAAS,EAAIJ,EAAQP,WAAaO,EAAQH,aACrDoB,MAAM,SACNC,QAAQ,MAEPd,wFC1DEgB,EAAUC,YAAqB,CAC1CC,SAAUC,cAGCC,EAAkBnE,cAC/B+D,EAAQK,OAAOD,GACR,IAAME,EAAYjE,YAAY2D,EAAQO,UAAU5D,GAAGyD,EAAiB,SAACI,EAAG3D,GAAJ,OAAUA,gOCJrF,IAAM4D,EAAoBxE,cACpByE,EAAqBzE,cACrB0E,EAAqB1E,cAErB2E,EAAQvE,YAAYT,EAAYC,QAAQc,GAC5C8D,EACA,SAACD,EAAG3D,GAAJ,OAAUA,IAGNgE,EAAexE,YAAY,IAAIM,GAAG+D,EAAoB,SAACF,EAAG3D,GAAJ,OAAUA,IAEtEiE,YAAO,CACLC,OAAQC,YAAQJ,EAAOC,EAAcP,EAAW,SAAC1C,EAAMG,EAAOwC,GAAd,MAA4B,CAC1E3C,OACAG,MAAOkD,OAAOlD,GACdwC,cAEFW,MAAOP,EACPQ,GAAI,SAAAC,GAAK,4VAAAC,CAAA,GAAUD,EAAV,CAAiBjE,OAAO,IAAImE,MAAOC,iBAC5CC,OAAQtF,IAGVA,EAAYmB,MAAM,kBAAM2C,EAAQyB,KAAK,OAErCb,EAAMc,MAAMtB,GACZS,EAAaa,MAAMtB,GCRnB,IAAMlC,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCuD,KAAM,CACJC,MAAO,QAETC,OAAQ,CACNC,OAAM,GAAAhF,OAAuB,EAAlBsB,EAAM2D,UAAX,cAIH,SAASC,EAAaC,GAAO,IAC1BC,EAAqBD,EAArBC,iBACFC,EAAarD,YAAS8B,GACtBwB,EAActD,YAAS+B,GACvBjC,EAAUV,IAChB,OACEe,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmD,SAAA,KACEpD,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAavC,UAAWnB,EAAQ+C,MAC9B1C,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAYC,MAAM,SAASC,QAAQ,MAChCoC,EAAmB,kBAAoB,oBAE1CjD,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CAAWC,UAAU,UAArB,QACAvD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CACE1E,MAAOoE,EACPO,SAAU,SAAAC,GAAC,OAAIlC,EAAkBkC,EAAEnB,OAAOzD,SAE1CkB,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,QAAS5D,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,MACT/E,MAAOnC,EAAYC,OACnBkH,MAAM,WAER9D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,QAAS5D,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,MACT/E,MAAOnC,EAAYE,QACnBiH,MAAM,aAGV9D,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CACED,MAAM,QACNE,YAAY,cACZrF,KAAK,SACLG,MAAOqE,EACPM,SAAU,SAAAC,GAAC,OAAIjC,EAAmBiC,EAAEnB,OAAOzD,UAE7CkB,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,CACEpD,QAAQ,YACRxB,MAAM,UACN6E,QAASxC,EACTZ,UAAWnB,EAAQiD,QAElBK,EAAmB,MAAQ,mEC9DhChE,GAAYC,YAAW,iBAAO,CAClCwD,KAAM,CACJyB,SAAU,QACVC,OAAQ,EACRzB,MAAO,WAIJ,SAAS0B,KACd,IAAM1E,EAAUV,KAChB,OACEe,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAqBvF,MAAO,EAAGwF,YAAU,EAACxD,UAAWnB,EAAQ+C,MAC3D1C,EAAAC,EAAAC,cAACqE,EAAA,EAAD,CACET,MAAM,OACNU,KAAMxE,EAAAC,EAAAC,cAACuE,EAAA,EAAD,MACNlB,UAAWmB,IACXC,GAAIzD,eAENlB,EAAAC,EAAAC,cAACqE,EAAA,EAAD,CACET,MAAM,aACNU,KAAMxE,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,MACNrB,UAAWmB,IACXC,GAAIzD,yBAENlB,EAAAC,EAAAC,cAACqE,EAAA,EAAD,CACET,MAAM,UACNU,KAAMxE,EAAAC,EAAAC,cAAC2E,EAAA,EAAD,MACNtB,UAAWmB,IACXC,GAAIzD,iGClCN4D,GAAmB9H,cACnB+H,GAAkB/H,cAClBgI,GAAkBhI,cAElBiI,GAAa7H,aAAY,GAC5BM,GAAGoH,GAAkB,kBAAM,IAC3BpH,GAAGX,EAAc,kBAAM,IACvBW,GAAGqH,GAAiB,kBAAM,IAEvBG,GAAoB9H,YAAY,MACnCM,GAAGoH,GAAkB,SAACvD,EAAG3D,GAAJ,OAAUA,IAC/BF,GAAGX,EAAc,kBAAM,OACvBW,GAAGqH,GAAiB,kBAAM,OAE7BlD,YAAO,CACLC,OAAQoD,GACRjD,MAAO+C,GACPzC,OAAQxF,EACRmF,GAAI,SAAAtE,GAAC,OAAIA,KCFX,IAAMqB,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,WAAY,CACVC,MAAOC,IAAM,KACbC,WAAY,QAEdC,aAAc,CACZH,MAAOI,IAAI,KACXF,WAAY,QAEd4F,QAAS,CACP3E,QAAS,OACTC,eAAgB,SAChB2E,aAAc,aAIX,SAASC,KACd,IAAM5G,EAAUoB,YAAS1C,GACnBmI,EAAYzF,YAASoF,IACrBtF,EAAUV,KAChB,OACEe,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmD,SAAA,KACG,IACA3E,EAAQN,IAAI,SAAAO,GAAM,OACjBsB,EAAAC,EAAAC,cAAA,OAAKqF,IAAK7G,EAAOR,OACf8B,EAAAC,EAAAC,cAAA,OAAKY,UAAWnB,EAAQwF,SACtBnF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAYC,MAAM,UACf,IAAIyB,KAAK3D,EAAOR,OAAOsH,qBAD1B,IACiD,IAC9C,IAAInD,KAAK3D,EAAOR,OAAOuH,sBAE1BzF,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,MAAM,SACNE,UACEpC,EAAOC,OAAShC,EAAYE,QACxB8C,EAAQH,aACRG,EAAQP,WAEdyB,QAAQ,aAEPnC,EAAOC,OAAShC,EAAYE,SAAW,KACvC6B,EAAOI,QAGZkB,EAAAC,EAAAC,cAACwF,GAAA,EAAD,CAAYxB,QAAS,kBAAMY,GAAiBpG,EAAOR,SACjD8B,EAAAC,EAAAC,cAACyF,GAAA,EAAD,OAEF3F,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAMjB,GAAG,gBACP3E,EAAAC,EAAAC,cAACwF,GAAA,EAAD,KACE1F,EAAAC,EAAAC,cAAC2F,GAAA,EAAD,SAIN7F,EAAAC,EAAAC,cAAC4F,GAAA,EAAD,SAGJ9F,EAAAC,EAAAC,cAAC6F,GAAA,EAAD,CAAQC,KAAMV,GACZtF,EAAAC,EAAAC,cAAC+F,GAAA,EAAD,kDACAjG,EAAAC,EAAAC,cAACgG,GAAA,EAAD,KACElG,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,CAAQC,QAASc,IAAjB,UACAhF,EAAAC,EAAAC,cAAC+D,EAAA,EAAD,CAAQC,QAASa,IAAjB,aCtEV,IAAM9F,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCuD,KAAM,CACJyD,SAAU,OACVC,QAASjH,EAAM2D,cAINuD,GAAS,kBACpBrG,EAAAC,EAAAC,cAACoG,EAAA,EAAD,CAAQvF,QAASA,GACff,EAAAC,EAAAC,cAACoG,EAAA,EAAD,KACEtG,EAAAC,EAAAC,cAACoG,EAAA,EAAD,CAAOC,KAAMrF,wBACXlB,EAAAC,EAAAC,cAAC6C,EAAD,CAAcE,kBAAgB,KAEhCjD,EAAAC,EAAAC,cAACoG,EAAA,EAAD,CAAOC,KAAMrF,yBACXlB,EAAAC,EAAAC,cAAC6C,EAAD,OAEF/C,EAAAC,EAAAC,cAACoG,EAAA,EAAD,CAAOC,KAAMrF,qBACXlB,EAAAC,EAAAC,cAACmF,GAAD,OAEFrF,EAAAC,EAAAC,cAACoG,EAAA,EAAD,CAAOC,KAAMrF,cACXlB,EAAAC,EAAAC,cAACR,EAAD,QAGJM,EAAAC,EAAAC,cAACsG,GAAD,QAIG,SAASC,KACd,IAAM9G,EAAUV,KAChB,OACEe,EAAAC,EAAAC,cAAA,OAAKY,UAAWnB,EAAQ+C,MACtB1C,EAAAC,EAAAC,cAACwG,GAAD,oCCjCAC,GAAcC,SAASC,eAAe,QAEtC1H,GAAQ2H,eAMdC,IAASC,OAAOhH,EAAAC,EAAAC,cALH,kBACXF,EAAAC,EAAAC,cAAC+G,GAAA,EAAD,CAAe9H,MAAOA,IACpBa,EAAAC,EAAAC,cAACuG,GAAD,QAGY,MAAUE","file":"static/js/main.43752c40.chunk.js","sourcesContent":["export const RECORD_TYPE = {\n  INCOME: 'INCOME',\n  EXPENSE: 'EXPENSE'\n};","const localStorageKey = 'taxi-data';\n\nexport function addDataToLocalStorage(data) {\n  window.localStorage.setItem(localStorageKey, JSON.stringify(data));\n}\n\nexport function getDataFromLocalStorage() {\n  return JSON.parse(window.localStorage.getItem(localStorageKey)) || [];\n}\n","import { createStore, createEvent } from 'effector';\nimport { RECORD_TYPE } from './constants';\nimport { addDataToLocalStorage, getDataFromLocalStorage } from '../persistence';\n\nexport const removeRecord = createEvent();\nexport const recordAdded = createEvent();\nexport const recordChanged = createEvent();\n\n/*\n  type Record {\n    added: string,\n    type: 'INCOME' | 'EXPENSE',\n    value: number\n  }\n*/\n\nexport const $records = createStore(getDataFromLocalStorage())\n  .on(recordAdded, (s, p) => [...s, p])\n  .on(removeRecord, (s, p) => s.filter(el => el.added !== p))\n  .on(recordChanged, (s, p) => s.map(el => (el.added === p.added ? p : el)));\n\n$records.watch(addDataToLocalStorage);\n\nexport const $totalIncome = $records.map(records =>\n  records\n    .filter(record => record.type === RECORD_TYPE.INCOME)\n    .reduce((acc, record) => record.value + acc, 0)\n);\n\nexport const $totalExpenses = $records.map(records =>\n  records\n    .filter(record => record.type === RECORD_TYPE.EXPENSE)\n    .reduce((acc, record) => record.value + acc, 0)\n);\n\nexport const $profit = $records.map(records =>\n  records.reduce(\n    (acc, record) =>\n      record.type === RECORD_TYPE.INCOME\n        ? acc + record.value\n        : acc - record.value,\n    0\n  )\n);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { Typography, Box, Grid } from '@material-ui/core';\nimport { green, red } from '@material-ui/core/colors';\nimport { useStore } from 'effector-react';\n\nimport { $totalExpenses, $totalIncome, $profit } from '../core/records';\n\nconst useStyles = makeStyles(theme => ({\n  incomeText: {\n    color: green[700],\n    fontWeight: 'bold'\n  },\n  spendingText: {\n    color: red[700],\n    fontWeight: 'bold'\n  }\n}));\n\nexport function HomePage() {\n  const classes = useStyles();\n  const totalIncome = useStore($totalIncome);\n  const totalExpenses = useStore($totalExpenses);\n  const profit = useStore($profit);\n  return (\n    <Grid container>\n      <Grid item xs={4}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <Typography align=\"center\" variant=\"subtitle1\">\n            Income\n          </Typography>\n        </Box>\n        <Typography className={classes.incomeText} align=\"center\" variant=\"h4\">\n          {totalIncome}\n        </Typography>\n      </Grid>\n      <Grid item xs={4}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <Typography align=\"center\" variant=\"subtitle1\">\n            Expenses\n          </Typography>\n        </Box>\n        <Typography\n          className={classes.spendingText}\n          align=\"center\"\n          variant=\"h4\"\n        >\n          {totalExpenses}\n        </Typography>\n      </Grid>\n      <Grid item xs={4}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <Typography align=\"center\" variant=\"subtitle1\">\n            Profit\n          </Typography>\n        </Box>\n        <Typography\n          className={profit > 0 ? classes.incomeText : classes.spendingText}\n          align=\"center\"\n          variant=\"h4\"\n        >\n          {profit}\n        </Typography>\n      </Grid>\n    </Grid>\n  );\n}\n","import { createBrowserHistory } from 'history';\nimport { createStore, createEvent } from 'effector';\n\nexport const history = createBrowserHistory({\n  baseName: process.env.PUBLIC_URL\n});\n\nexport const locationChanged = createEvent();\nhistory.listen(locationChanged);\nexport const $location = createStore(history.location).on(locationChanged, (_, p) => p);\n\n","import { createStore, createEvent, sample, combine } from 'effector';\nimport { history, $location, locationChanged } from '../../routing';\nimport { RECORD_TYPE } from '../../core/constants';\nimport { recordAdded, recordChanged } from '../../core/records';\n\nconst recordTypeChanged = createEvent();\nconst recordValueChanged = createEvent();\nconst saveRecordRequsted = createEvent();\n\nconst $type = createStore(RECORD_TYPE.INCOME).on(\n  recordTypeChanged,\n  (_, p) => p\n);\n\nconst $recordValue = createStore('').on(recordValueChanged, (_, p) => p);\n\nsample({\n  source: combine($type, $recordValue, $location, (type, value, location) => ({\n    type,\n    value: Number(value),\n    location\n  })),\n  clock: saveRecordRequsted,\n  fn: store => ({ ...store, added: new Date().toISOString() }),\n  target: recordAdded\n});\n\nrecordAdded.watch(() => history.push('/'));\n\n$type.reset(locationChanged);\n$recordValue.reset(locationChanged);\n\nexport {\n  recordTypeChanged,\n  recordValueChanged,\n  $type,\n  $recordValue,\n  saveRecordRequsted\n};\n","import React from 'react'\nimport {\n  RadioGroup,\n  Radio,\n  FormControl,\n  FormLabel,\n  FormControlLabel,\n  TextField,\n  Button,\n  Typography,\n} from '@material-ui/core'\nimport { useStore } from 'effector-react'\nimport {\n  $type,\n  recordTypeChanged,\n  $recordValue,\n  recordValueChanged,\n  saveRecordRequsted,\n} from './store'\nimport { RECORD_TYPE } from '../../core/constants'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  button: {\n    margin: `${theme.spacing() * 2}px 0px`\n  }\n}))\n\nexport function RecordScreen(props) {\n  const { recordIsCreating } = props\n  const recordType = useStore($type)\n  const recordValue = useStore($recordValue)\n  const classes = useStyles()\n  return (\n    <>\n      <FormControl className={classes.root}>\n        <Typography align=\"center\" variant=\"h4\">\n          {recordIsCreating ? 'New transaction' : 'Edit transaction'}\n        </Typography>\n        <FormLabel component=\"legend\">Type</FormLabel>\n        <RadioGroup\n          value={recordType}\n          onChange={e => recordTypeChanged(e.target.value)}\n        >\n          <FormControlLabel\n            control={<Radio />}\n            value={RECORD_TYPE.INCOME}\n            label=\"Income\"\n          />\n          <FormControlLabel\n            control={<Radio />}\n            value={RECORD_TYPE.EXPENSE}\n            label=\"Expense\"\n          />\n        </RadioGroup>\n        <TextField\n          label=\"Value\"\n          placeholder=\"Enter value\"\n          type=\"number\"\n          value={recordValue}\n          onChange={e => recordValueChanged(e.target.value)}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={saveRecordRequsted}\n          className={classes.button}\n        >\n          {recordIsCreating ? 'Add' : 'Save'}\n        </Button>\n      </FormControl>\n    </>\n  )\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  BottomNavigation as MUIBottomNavigation,\n  BottomNavigationAction\n} from '@material-ui/core';\nimport { PostAdd, History, Home } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: 'fixed',\n    bottom: 0,\n    width: '100%'\n  }\n}));\n\nexport function BottomNavigation() {\n  const classes = useStyles();\n  return (\n    <MUIBottomNavigation value={0} showLabels className={classes.root}>\n      <BottomNavigationAction\n        label=\"Main\"\n        icon={<Home />}\n        component={Link}\n        to={process.env.PUBLIC_URL + '/'}\n      />\n      <BottomNavigationAction\n        label=\"New record\"\n        icon={<PostAdd />}\n        component={Link}\n        to={process.env.PUBLIC_URL + '/add-record'}\n      />\n      <BottomNavigationAction\n        label=\"History\"\n        icon={<History />}\n        component={Link}\n        to={process.env.PUBLIC_URL + '/history'}\n      />\n    </MUIBottomNavigation>\n  );\n}\n","import { createStore, createEvent, sample } from 'effector';\nimport { removeRecord } from '../../core/records';\n\nconst removeBtnClicked = createEvent();\nconst removeCancelled = createEvent();\nconst removeConfirmed = createEvent();\n\nconst $modalOpen = createStore(false)\n  .on(removeBtnClicked, () => true)\n  .on(removeRecord, () => false)\n  .on(removeCancelled, () => false);\n\nconst $recordIdToRemove = createStore(null)\n  .on(removeBtnClicked, (_, p) => p)\n  .on(removeRecord, () => null)\n  .on(removeCancelled, () => null);\n\nsample({\n  source: $recordIdToRemove,\n  clock: removeConfirmed,\n  target: removeRecord,\n  fn: p => p\n});\n\nexport {\n  $modalOpen,\n  $recordIdToRemove,\n  removeBtnClicked,\n  removeCancelled,\n  removeConfirmed\n};\n","import React from 'react';\nimport { useStore } from 'effector-react';\nimport { Link } from 'react-router-dom';\nimport {\n  Typography,\n  Divider,\n  IconButton,\n  Dialog,\n  DialogContent,\n  DialogActions,\n  Button\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { green, red } from '@material-ui/core/colors';\nimport { Delete, Edit } from '@material-ui/icons';\nimport { RECORD_TYPE } from '../../core/constants';\nimport { $records } from '../../core/records';\nimport { $modalOpen, removeBtnClicked, removeCancelled, removeConfirmed } from './store'\n\nconst useStyles = makeStyles(theme => ({\n  incomeText: {\n    color: green[700],\n    fontWeight: 'bold'\n  },\n  spendingText: {\n    color: red[700],\n    fontWeight: 'bold'\n  },\n  content: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignContent: 'center'\n  }\n}));\n\nexport function HistoryScreen() {\n  const records = useStore($records);\n  const modalOpen = useStore($modalOpen);\n  const classes = useStyles();\n  return (\n    <>\n      {' '}\n      {records.map(record => (\n        <div key={record.added}>\n          <div className={classes.content}>\n            <div>\n              <Typography align=\"center\">\n                {new Date(record.added).toLocaleDateString()},{' '}\n                {new Date(record.added).toLocaleTimeString()}\n              </Typography>\n              <Typography\n                align=\"center\"\n                className={\n                  record.type === RECORD_TYPE.EXPENSE\n                    ? classes.spendingText\n                    : classes.incomeText\n                }\n                variant=\"subtitle2\"\n              >\n                {record.type === RECORD_TYPE.EXPENSE && '- '}\n                {record.value}\n              </Typography>\n            </div>\n            <IconButton onClick={() => removeBtnClicked(record.added)}>\n              <Delete />\n            </IconButton>\n            <Link to=\"/edit-record\">\n              <IconButton>\n                <Edit />\n              </IconButton>\n            </Link>\n          </div>\n          <Divider />\n        </div>\n      ))}\n      <Dialog open={modalOpen}>\n        <DialogContent>Are you sure you want remove this record?</DialogContent>\n        <DialogActions>\n          <Button onClick={removeConfirmed}>Remove</Button>\n          <Button onClick={removeCancelled}>Cancel</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React from 'react';\r\nimport { Router, Switch, Route } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { HomePage } from './pages/home';\r\nimport { RecordScreen } from './pages/record';\r\nimport { BottomNavigation } from './components/bottom-navigation';\r\nimport { HistoryScreen } from './pages/history';\r\nimport { history } from './routing';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    overflow: 'auto',\r\n    padding: theme.spacing()\r\n  }\r\n}));\r\n\r\nexport const Routes = () => (\r\n  <Router history={history}>\r\n    <Switch>\r\n      <Route path={process.env.PUBLIC_URL + '/add-record'}>\r\n        <RecordScreen recordIsCreating/>\r\n      </Route>\r\n      <Route path={process.env.PUBLIC_URL + '/edit-record'}>\r\n        <RecordScreen />\r\n      </Route>\r\n      <Route path={process.env.PUBLIC_URL + '/history'}>\r\n        <HistoryScreen />\r\n      </Route>\r\n      <Route path={process.env.PUBLIC_URL + '/'}>\r\n        <HomePage />\r\n      </Route>\r\n    </Switch>\r\n    <BottomNavigation />\r\n  </Router>\r\n);\r\n\r\nexport function App() {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Routes />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './app';\nimport './styles.css';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core';\n\nconst rootElement = document.getElementById('root');\n\nconst theme = createMuiTheme();\nconst Root = () => (\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>\n);\nReactDOM.render(<Root />, rootElement);\n"],"sourceRoot":""}